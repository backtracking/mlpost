\documentclass[nodefaultblocks]{beamer}

\usepackage[latin1]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[french]{babel}
\usepackage{mflogo,beamerthemesplit,alltt} 
\usepackage{tikz}

\beamertemplatenavigationsymbolsempty
%\usecolortheme{crane}
\usetheme{Madrid}

\newcommand{\ocaml}{OCaml}
\newcommand{\camllight}{Caml Light}
\newcommand{\mlpost}{\textsc{Mlpost}}
\newcommand{\metapost}{\MP}
\newcommand{\nomdetikz}{\textsf{TikZ}}
\newcommand{\pstricks}{\textsf{PSTricks}}
\newcommand{\dia}{\textsf{Dia}}
\newcommand{\xfig}{\textsf{Xfig}}
\newcommand{\postscript}{PostScript}
\newcommand{\mlpictex}{mlP\hspace{-0.2em}\raisebox{-0.2em}{i}\hspace{-0.1em}c\hspace{-0.1em}\TeX}
\newcommand{\Item}{\bigskip\item}
\newcommand{\bred}[1]{\alert{\textbf{#1}}}
\let\emph\bred

\title[Faire bonne figure avec \mlpost]{\LARGE Faire bonne figure avec \mlpost}
\author[Bardou/Filliâtre/Kanig/Lescuyer]{R. Bardou
        \& J.-C. Filliâtre
        \& J. Kanig
        \& S. Lescuyer \\[1em]
      Équipe ProVal \\[0.5em]
      INRIA Saclay -- Île-de-France \\
      CNRS / LRI Université Paris-Sud }
%\institute[proval]{ProVal}
\date{JFLA  --- 3 février 2009}

\begin{document}

\begin{frame}
  \maketitle
  \begin{center}
    \includegraphics[width=0.3\textwidth]{ford.mps}
  \end{center}
\end{frame}

\begin{frame}\frametitle{Motivations 1/2}
comment réaliser de belles figures contenant des éléments \LaTeX\ ?

\vfill

\begin{center}
  \includegraphics[width=\textwidth]{yannick1.mps}
\end{center}

\vfill

\begin{center}
  \includegraphics{another_list.mps}
\end{center}
\end{frame}

\begin{frame}\frametitle{Motivations 2/2}
comment réaliser des figures utilisant des calculs ?

\vfill

\begin{columns}
\column{0.4\textwidth}  
\begin{center}
  \includegraphics{bresenham.mps}
\end{center}
\column{0.6\textwidth}  
\begin{center}
  \includegraphics[width=0.8\textwidth]{florence.mps}
\end{center}
\end{columns}
\end{frame}

\begin{frame}\frametitle{Solutions existantes}
  \begin{itemize}
  \item interfaces graphiques : \dia, \xfig
    \begin{itemize}
    \item[$+$] simple à utiliser (CQVVECQVO)
    \item[$-$] intégration d'éléments \LaTeX\ difficile
    \end{itemize}
  \Item bibliothèques \LaTeX\ : \pstricks, \nomdetikz/PGF
    \begin{itemize}
    \item[$+$] intégration avec \LaTeX\
      \begin{tikzpicture}[baseline=(a.base)]
        \path[use as bounding box] 
        (0,0) node[draw,style=dashed] (a) {optimale};
        \draw[->] (a) .. controls +(+2cm,-1cm) and +(+2cm,0cm) .. (a);
      \end{tikzpicture}
    \item[$-$] programmation difficile
    \end{itemize}
  \Item outils externes : \metapost
    \begin{itemize}
    \item[$+$] très bonne intégration avec \LaTeX
    \item[$+$] langage spécifique
    \item[$-$] langage spécifique, avec de nombreux défauts
    \end{itemize}
  \end{itemize}
\end{frame}

\begin{frame}\frametitle{Notre solution : \mlpost}
  \begin{block}{}
    Une bibliothèque \ocaml{} fondée sur \MP
  \end{block}
  \begin{itemize}
    \item programmer sa figure en \ocaml{}
    \item bonne intégration avec \LaTeX{} grâce à \MP
    \item se prémunir contre un certain nombre d'erreurs grâce au typage
    \item possibilité de développer des extensions de haut niveau
    \item avoir l'occasion de venir aux JFLA !
  \end{itemize}
  TODO CHANGER L'IMAGE
  \includegraphics[width=.3\textwidth]{figmp.mps}
\end{frame}

\begin{frame}\frametitle{Utilisation de \mlpost}
\begin{center}
\includegraphics[width=\textwidth]{stages.mps}
\bigskip

\begin{minipage}{.35\textwidth}
\begin{alltt}\small
open Mlpost\\
let figure = ...\\
emit (draw figure)
\end{alltt}
\end{minipage}
\begin{minipage}{.33\textwidth}
\begin{alltt}
beginfig(7)\\
~~draw fullcircle;\\
~~...\\
endfig;
\end{alltt}
\end{minipage}
\begin{minipage}{.30\textwidth}
\hfill\includegraphics[width=.9\textwidth]{rondscolores.mps}
\end{minipage}
\end{center}
\end{frame}

\begin{frame}\frametitle{}
  démo
\end{frame}

\begin{frame}\frametitle{}

CHOIX DE CONCEPTION / API

- persistance

- arguments optionnels / étiquetés 

- variants polymorphes

- minimalité de l'API

\end{frame}

\begin{frame}\frametitle{Architecture de l'IPA}
  \begin{center}
    \includegraphics[width=.8\textwidth]{architecture.mps}
  \end{center}
\end{frame}

\begin{frame}\frametitle{}
  problèmes techniques et solutions

  - dépendances circulaires

  - limitations de \metapost\ $\Rightarrow$ compilation

  - taille 
\end{frame}


\begin{frame}\frametitle{Figures réalisées en \mlpost}
\mlpost{} a déjà été utilisé en de nombreuses occasions:

- Florence, Louis

- thèse Yannick

- 2 posters ProVal

- présentations, y compris celle-ci

- cours : Sylvain, JC
\end{frame}

\begin{frame}\frametitle{}
limitations / problèmes / etc.

- limitations de \metapost\ : nombre de n\oe uds dans un chemin, etc.

- limitations de l'interprétation par pdflatex

- limitations de l'approche $\rightarrow$ calculs symboliques

une solution : reprogrammer l'équivalent de \metapost

\bigskip

perte des fonctionnalités de résolution d'équations linéaires de
\metapost

en partie remplacé par le placement relatif des boîtes
\end{frame}



\end{document}

%%% Local Variables: 
%%% mode: latex
%%% ispell-local-dictionary: "francais"
%%% TeX-master: t
%%% End: 
